<!doctype html><html lang=en-us><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge,chrome=1"><title>Free Hosting | Broken Gadgets R&amp;D</title>
<meta name=viewport content="width=device-width,minimum-scale=1"><meta name=description content="The deployment of this website went through several iterations which generally failed for being to complicated or expensive to maintain before landing on this stack explicitly to solve that problem. Since this involved stringing a number of tools together, it seemed prudent to write these efforts for others (including future me) to benefit from. This is not a perfect guide to build any website in any scenario and it doesn&rsquo;t aim to be; this is how this website was deployed to suit the needs of this website&rsquo;s maintainers. Some parts (especially those using hugo and inside the theme) shouldcould be done better, but these work."><meta name=generator content="Hugo 0.140.2"><meta name=robots content="index, follow"><link rel=stylesheet href=/ananke/css/main.min.d05fb5f317fcf33b3a52936399bdf6f47dc776516e1692e412ec7d76f4a5faa2.css><link rel=canonical href=https://brokengadgets.io/freehost/><meta property="og:url" content="https://brokengadgets.io/freehost/"><meta property="og:site_name" content="Broken Gadgets R&D"><meta property="og:title" content="Free Hosting"><meta property="og:description" content="The deployment of this website went through several iterations which generally failed for being to complicated or expensive to maintain before landing on this stack explicitly to solve that problem. Since this involved stringing a number of tools together, it seemed prudent to write these efforts for others (including future me) to benefit from. This is not a perfect guide to build any website in any scenario and it doesn‚Äôt aim to be; this is how this website was deployed to suit the needs of this website‚Äôs maintainers. Some parts (especially those using hugo and inside the theme) shouldcould be done better, but these work."><meta property="og:locale" content="en_us"><meta property="og:type" content="article"><meta property="article:published_time" content="2025-01-13T20:33:38-05:00"><meta property="article:modified_time" content="2025-01-13T20:33:38-05:00"><meta itemprop=name content="Free Hosting"><meta itemprop=description content="The deployment of this website went through several iterations which generally failed for being to complicated or expensive to maintain before landing on this stack explicitly to solve that problem. Since this involved stringing a number of tools together, it seemed prudent to write these efforts for others (including future me) to benefit from. This is not a perfect guide to build any website in any scenario and it doesn‚Äôt aim to be; this is how this website was deployed to suit the needs of this website‚Äôs maintainers. Some parts (especially those using hugo and inside the theme) shouldcould be done better, but these work."><meta itemprop=datePublished content="2025-01-13T20:33:38-05:00"><meta itemprop=dateModified content="2025-01-13T20:33:38-05:00"><meta itemprop=wordCount content="908"><meta name=twitter:card content="summary"><meta name=twitter:title content="Free Hosting"><meta name=twitter:description content="The deployment of this website went through several iterations which generally failed for being to complicated or expensive to maintain before landing on this stack explicitly to solve that problem. Since this involved stringing a number of tools together, it seemed prudent to write these efforts for others (including future me) to benefit from. This is not a perfect guide to build any website in any scenario and it doesn‚Äôt aim to be; this is how this website was deployed to suit the needs of this website‚Äôs maintainers. Some parts (especially those using hugo and inside the theme) shouldcould be done better, but these work."></head><body class="ma0 avenir bg-near-black near-white production"><header class="cover bg-center" style=background-image:url(https://brokengadgets.io/images/pcb_layout.webp)><div class=bg-black-60><nav class="pv3 ph3 ph4-ns" role=navigation><div class="flex-l justify-between items-center center"><a href=/ class="f3 fw2 hover-white no-underline white-90 dib">Broken Gadgets R&amp;D</a><div class="flex-l items-center"><ul class="pl0 mr3"><li class="list f5 f4-ns fw4 dib pr3"><a class="hover-white no-underline white-90" href=/contact/ title="Contact page">Contact</a></li></ul><div class=ananke-socials></div></div></div></nav><div class="tc-l pv6 ph3 ph4-ns"><div class="f2 f1-l fw2 white-90 mb0 lh-title">Free Hosting</div></div></div></header><main class=pb7 role=main><div class="flex-l mt2 mw8 center"><article class="center cf pv5 ph3 ph4-ns mw7"><header><h1 class=f1>Free Hosting</h1></header><div class="nested-copy-line-height lh-copy f4 nested-links near-white"><p>The deployment of this website went through several iterations which generally failed for being to complicated or expensive to maintain before landing on this stack explicitly to solve that problem. Since this involved stringing a number of tools together, it seemed prudent to write these efforts for others (including future me) to benefit from. This is not a perfect guide to build any website in any scenario and it doesn&rsquo;t aim to be; this is how this website was deployed to suit the needs of this website&rsquo;s maintainers. Some parts (especially those using hugo and inside the theme) <del>should</del>could be done better, but these <strong>work</strong>.</p><h1 id=-site-generator->ü§ñ Site Generator ü§ñ</h1><p>Before looking at hosting, it&rsquo;s important to have anything to host. This was built with <a href=https://gohugo.io/>Hugo</a> and, though the design started with the <a href=https://github.com/theNewDynamic/gohugo-theme-ananke>Ananke theme</a>, the shortcomings quickly showed and a <a href=https://github.com/nulvox/gohugo-theme-ananke>fork</a> of that theme is now doing most of the lifting. This generator was selected because I&rsquo;m quite fond of GoLang and was really just looking for a static site generator which wouldn&rsquo;t do the same terrible things to CSS inheritance that Jekyl does. <img src=/images/neil-patrick-harris-shudder.gif alt=uhhhg!></p><p>To set up your own git repo as a hugo theme, you can just add it as a submodule to your side builder repo: <code>git submodule add https://github.com/nulvox/gohugo-theme-ananke themes ananke</code></p><p>From there, it should play nicely as long as the submodules are always recursively updated by the tooling. Once some content is in place and the branding matches your desire, build the site and host it locally with <code>hugo server -D</code> then open up <code>127.0.0.1:1313</code> in your browser to take a peek.</p><h1 id=-github-pages->üëæ Github Pages üëæ</h1><p>We are looking to host this thing for free, so let&rsquo;s see some github pages action. Copy the contents of your hugo build dir&rsquo;s <code>private</code> dir into a new public repo and push it up. From the repo go to Settings -> Pages. Choose your branch and enter your domain. The webpage will present you a challenge DNS entry, go make that txt rec and let it verify. Next, make 4 A recs pointing <code>@</code> at 185.199.108.153, 185.199.109.153, 185.199.110.153, and 185.199.111.153 (though these may change and you should check the <a href=https://docs.github.com/en/pages/configuring-a-custom-domain-for-your-github-pages-site>official docs</a> each time) then a C rec pointing www at <code>&lt;YOUR_github_org>.github.io</code>. Wait a few min and check <code>Enforce HTTPS</code>.</p><h1 id=--contact-form->üìù Contact Form üìù</h1><p>One of the great things about the Ananke theme is how easy it makes a contact form. Sign up at <a href=https://formspree.io/>Formspree</a> and drop the link in to the contact page markdown&rsquo;s form entry. It&rsquo;s really that simple. If you want more throughput or custom <code>Thank You</code> pages, you can give them $5/month. :shrug: Whatever works for you.</p><h1 id=-make-it-easy-though->üò≠ Make it Easy, Though üò≠</h1><p>Okay, so changing the thing, then running hugo, then copying files, then committing all this crap to keep track of it: ü§Æ yuck. So let&rsquo;s just write some yaml to tell github to do it. We already get the page deployed when we commit to main(or whichever branch you chose) because of the pages section above, so let&rsquo;s add a new file to the hugo repo to define a workflow which will:</p><ul><li>clone both repos (recursively grabbing subrepos for the hugo code)</li><li>setup a version of Hugo that supports our theme</li><li>build the site</li><li>copy the generated pages to the deployment repo</li><li>make a commit showing the history and merge into main</li></ul><p>This should start the pages action and deploy the entire site just because we committed to the hugo repo. Fun!</p><p>here are the contents of my <code>.github/workflows/main.yml</code> file:</p><pre tabindex=0><code>on: push
jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout
        uses: actions/checkout@v4
        with:
          token: ${{ secrets.HUGO_PAT }}
          path: main
          submodules: true
          fetch-depth: 0
      - name: Setup Hugo
        uses: peaceiris/actions-hugo@v3
        with:
          hugo-version: &#39;0.140.2&#39;
          extended: true
      - name: Build
        run: |
          cd main
          hugo mod init github.com/nulvox/gohugo-theme-ananke
          hugo --minify
      - name: Checkout pages
        uses: actions/checkout@v4
        with:
          repository: brokengadgets/brokengadgets.github.io
          token: ${{ secrets.HUGO_PAT }}
          path: pages
      - name: copy and deploy
        run: |
          cd pages
          date &gt; generated.txt
          rm -rf images/*
          cp -pr ../main/public/* .
          git config user.name &#34;github-actions[bot]&#34;
          git config user.email &#34;41898282+github-actions[bot]@users.noreply.github.com&#34;
          git add .
          git commit -m &#34;generated by hugo runner for commit $GITHUB_SHA&#34;
          git push
</code></pre><h1 id=-creds->üîë Creds üîë</h1><p>This is fine and dandy, but this action won&rsquo;t have permissions to commit to the repo (if you set your life up right). If nobody has configured Personal Access Token (PAT) policies for your organization, you will need to load up org settings and define them first (in a way that is at least somewhat permissive to get some token to a user). Once that is up, open your user settings -> Developer Settings -> Personal Access Tokens -> Fine-grained tokens. From here, generate a new token and give it permissions to read and write the repos (you can&rsquo;t scope these per-repo yet üòî) and generate it. Copy the content it gives you and move on over to org settings again. In the left menu pick Secrets and Variables -> Actions. Next, add a new org secret, give it a name (in our workflow it is <code>HUGO_PAT</code>) and ensure the repos above have access to it (both will need to be public for free hosting).</p><h1 id=-observe-your-machinations->ü¶π‚Äç‚ôÇÔ∏è Observe Your Machinations ü¶π‚Äç‚ôÇÔ∏è</h1><p>With that done, any change to the Hugo repo should redeploy the website. It&rsquo;s quite satisfying to see the workflows run. To stay in the free tier on all this you can&rsquo;t run more than:</p><ul><li>20hrs/month GH Pipeline exec</li><li>50 form submissions/month
Happy hosting!</li></ul></div></article></div></main><footer class="bg-black bottom-0 w-100 pa3" role=contentinfo><div class="flex justify-between"><a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href=https://brokengadgets.io/>&copy; Broken Gadgets R&D 2025 
 </a><div><div class=ananke-socials></div></div></div></footer></body></html>