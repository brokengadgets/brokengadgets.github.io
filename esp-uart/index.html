<!doctype html><html lang=en-us><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge,chrome=1"><title>ESP UART using Arduino IDE | Broken Gadgets R&amp;D</title>
<meta name=viewport content="width=device-width,minimum-scale=1"><meta name=description content="Many projects have me finding myself in a position where I cannot find all of the information in one place to solve what should be a simple problem. I&rsquo;m on Manjaro Linux trying to use the Arduino IDE to create a UART to interface with.
Before getting started, we needed to find a board support package for the ESP32 to shove into the Arduino IDE.

With Arduino IDE open, press Ctrl+,
Under Additional Board Manager URLs add https://espressif.github.io/arduino-esp32/package_esp32_dev_index.json
Open Tools > Board > Board manager
Search Esp32 and install Arduino ESP32 Boards
Select an Arduino esp32 option from the boards dropdown before compiling or flashing

Upon compilation it was determined that there was no serial library to compile.
import serial
ImportError: No module named serial
As it turns out, it&rsquo;s a python module to be downloaded and I did not have pip, either.
sudo pacman -S python-pip
then
pip install pyserial
Come to compile again and everything checks out, going to flash it to the board now to find another error:
Serial port /dev/ttyUSB0
File &#34;/home/YOURUSERHERE/.local/lib/python3.10/site-packages/serial/serialposix.py&#34;, line 322, in open self.fd = os.open(self.portstr, os.O_RDWR | os.O_NOCTTY | os.O_NONBLOCK)
PermissionError: [Errno 13] Permission denied: '/dev/ttyUSB0'
Permissions can be checked using:
ls -lash /dev/tty*
in this case, I needed to modify my user permissions in the group uucp to access serial devices. 
usermod -aG YOURUSERHERE uucp"><meta name=generator content="Hugo 0.140.2"><meta name=robots content="index, follow"><link rel=stylesheet href=/ananke/css/main.min.d05fb5f317fcf33b3a52936399bdf6f47dc776516e1692e412ec7d76f4a5faa2.css><link rel=canonical href=https://brokengadgets.io/esp-uart/><meta property="og:url" content="https://brokengadgets.io/esp-uart/"><meta property="og:site_name" content="Broken Gadgets R&D"><meta property="og:title" content="ESP UART using Arduino IDE"><meta property="og:description" content="Many projects have me finding myself in a position where I cannot find all of the information in one place to solve what should be a simple problem. I’m on Manjaro Linux trying to use the Arduino IDE to create a UART to interface with. Before getting started, we needed to find a board support package for the ESP32 to shove into the Arduino IDE.
With Arduino IDE open, press Ctrl+, Under Additional Board Manager URLs add https://espressif.github.io/arduino-esp32/package_esp32_dev_index.json Open Tools > Board > Board manager Search Esp32 and install Arduino ESP32 Boards Select an Arduino esp32 option from the boards dropdown before compiling or flashing Upon compilation it was determined that there was no serial library to compile.
import serial
ImportError: No module named serial
As it turns out, it’s a python module to be downloaded and I did not have pip, either.
sudo pacman -S python-pip
then
pip install pyserial
Come to compile again and everything checks out, going to flash it to the board now to find another error:
Serial port /dev/ttyUSB0
File &#34;/home/YOURUSERHERE/.local/lib/python3.10/site-packages/serial/serialposix.py&#34;, line 322, in open self.fd = os.open(self.portstr, os.O_RDWR | os.O_NOCTTY | os.O_NONBLOCK)
PermissionError: [Errno 13] Permission denied: '/dev/ttyUSB0'
Permissions can be checked using:
ls -lash /dev/tty*
in this case, I needed to modify my user permissions in the group uucp to access serial devices. usermod -aG YOURUSERHERE uucp"><meta property="og:locale" content="en_us"><meta property="og:type" content="article"><meta property="article:published_time" content="2025-01-09T23:48:03-05:00"><meta property="article:modified_time" content="2025-01-09T23:48:03-05:00"><meta itemprop=name content="ESP UART using Arduino IDE"><meta itemprop=description content="Many projects have me finding myself in a position where I cannot find all of the information in one place to solve what should be a simple problem. I’m on Manjaro Linux trying to use the Arduino IDE to create a UART to interface with. Before getting started, we needed to find a board support package for the ESP32 to shove into the Arduino IDE.
With Arduino IDE open, press Ctrl+, Under Additional Board Manager URLs add https://espressif.github.io/arduino-esp32/package_esp32_dev_index.json Open Tools > Board > Board manager Search Esp32 and install Arduino ESP32 Boards Select an Arduino esp32 option from the boards dropdown before compiling or flashing Upon compilation it was determined that there was no serial library to compile.
import serial
ImportError: No module named serial
As it turns out, it’s a python module to be downloaded and I did not have pip, either.
sudo pacman -S python-pip
then
pip install pyserial
Come to compile again and everything checks out, going to flash it to the board now to find another error:
Serial port /dev/ttyUSB0
File &#34;/home/YOURUSERHERE/.local/lib/python3.10/site-packages/serial/serialposix.py&#34;, line 322, in open self.fd = os.open(self.portstr, os.O_RDWR | os.O_NOCTTY | os.O_NONBLOCK)
PermissionError: [Errno 13] Permission denied: '/dev/ttyUSB0'
Permissions can be checked using:
ls -lash /dev/tty*
in this case, I needed to modify my user permissions in the group uucp to access serial devices. usermod -aG YOURUSERHERE uucp"><meta itemprop=datePublished content="2025-01-09T23:48:03-05:00"><meta itemprop=dateModified content="2025-01-09T23:48:03-05:00"><meta itemprop=wordCount content="384"><meta name=twitter:card content="summary"><meta name=twitter:title content="ESP UART using Arduino IDE"><meta name=twitter:description content="Many projects have me finding myself in a position where I cannot find all of the information in one place to solve what should be a simple problem. I’m on Manjaro Linux trying to use the Arduino IDE to create a UART to interface with. Before getting started, we needed to find a board support package for the ESP32 to shove into the Arduino IDE.
With Arduino IDE open, press Ctrl+, Under Additional Board Manager URLs add https://espressif.github.io/arduino-esp32/package_esp32_dev_index.json Open Tools > Board > Board manager Search Esp32 and install Arduino ESP32 Boards Select an Arduino esp32 option from the boards dropdown before compiling or flashing Upon compilation it was determined that there was no serial library to compile.
import serial
ImportError: No module named serial
As it turns out, it’s a python module to be downloaded and I did not have pip, either.
sudo pacman -S python-pip
then
pip install pyserial
Come to compile again and everything checks out, going to flash it to the board now to find another error:
Serial port /dev/ttyUSB0
File &#34;/home/YOURUSERHERE/.local/lib/python3.10/site-packages/serial/serialposix.py&#34;, line 322, in open self.fd = os.open(self.portstr, os.O_RDWR | os.O_NOCTTY | os.O_NONBLOCK)
PermissionError: [Errno 13] Permission denied: '/dev/ttyUSB0'
Permissions can be checked using:
ls -lash /dev/tty*
in this case, I needed to modify my user permissions in the group uucp to access serial devices. usermod -aG YOURUSERHERE uucp"></head><body class="ma0 avenir bg-near-black near-white production"><header class="cover bg-center" style=background-image:url(https://brokengadgets.io/images/pcb_layout.webp)><div class=bg-black-60><nav class="pv3 ph3 ph4-ns" role=navigation><div class="flex-l justify-between items-center center"><a href=/ class="f3 fw2 hover-white no-underline white-90 dib">Broken Gadgets R&amp;D</a><div class="flex-l items-center"><ul class="pl0 mr3"><li class="list f5 f4-ns fw4 dib pr3"><a class="hover-white no-underline white-90" href=/contact/ title="Contact page">Contact</a></li></ul><div class=ananke-socials></div></div></div></nav><div class="tc-l pv6 ph3 ph4-ns"><div class="f2 f1-l fw2 white-90 mb0 lh-title">ESP UART using Arduino IDE</div></div></div></header><main class=pb7 role=main><div class="flex-l mt2 mw8 center"><article class="center cf pv5 ph3 ph4-ns mw7"><header><h1 class=f1>ESP UART using Arduino IDE</h1></header><div class="nested-copy-line-height lh-copy f4 nested-links near-white"><p>Many projects have me finding myself in a position where I cannot find all of the information in one place to solve what should be a simple problem. I&rsquo;m on Manjaro Linux trying to use the Arduino IDE to create a UART to interface with.
Before getting started, we needed to find a board support package for the ESP32 to shove into the Arduino IDE.</p><ol><li>With Arduino IDE open, press <code>Ctrl</code>+<code>,</code></li><li>Under <code>Additional Board Manager URLs</code> add <code>https://espressif.github.io/arduino-esp32/package_esp32_dev_index.json</code></li><li>Open Tools > Board > Board manager</li><li>Search <code>Esp32</code> and install <code>Arduino ESP32 Boards</code></li><li>Select an Arduino esp32 option from the boards dropdown before compiling or flashing</li></ol><p>Upon compilation it was determined that there was no serial library to compile.<br><code>import serial</code><br><code>ImportError: No module named serial</code><br>As it turns out, it&rsquo;s a python module to be downloaded and I did not have pip, either.<br><code>sudo pacman -S python-pip</code><br>then<br><code>pip install pyserial</code><br>Come to compile again and everything checks out, going to flash it to the board now to find another error:<br><code>Serial port /dev/ttyUSB0</code><br><code>File "/home/YOURUSERHERE/.local/lib/python3.10/site-packages/serial/serialposix.py", line 322, in open self.fd = os.open(self.portstr, os.O_RDWR | os.O_NOCTTY | os.O_NONBLOCK)</code><br><code>PermissionError: [Errno 13] Permission denied: '/dev/ttyUSB0'</code><br>Permissions can be checked using:<br><code>ls -lash /dev/tty*</code><br>in this case, I needed to modify my user permissions in the group uucp to access serial devices.<br><code>usermod -aG YOURUSERHERE uucp</code></p><p>To remove users from a group if you wish to do so after flashing:<br><code>sudo gpasswd -d YOURUSERHERE uucp</code></p><p>Below pins 2 and 4 are being used. Pin 2 for receive and pin 4 for transmit.<br>A substantial amount of help came from <a href=https://techoverflow.net/2021/11/19/how-to-use-esp32-as-usb-to-uart-converter-in-platformio/>this source</a></p><p>Using any GPIO pins as Rx / Tx:</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">22
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>#</span><span style=color:#a6e22e>define</span> <span style=color:#a6e22e>UART_RX_PIN</span> <span style=color:#ae81ff>2</span> <span style=color:#75715e>// GPIO2
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#960050;background-color:#1e0010>#</span><span style=color:#a6e22e>define</span> <span style=color:#a6e22e>UART_TX_PIN</span> <span style=color:#ae81ff>4</span> <span style=color:#75715e>// GPIO4
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>void</span> <span style=color:#a6e22e>setup</span>() {
</span></span><span style=display:flex><span><span style=color:#75715e>//Serial connects to the computer
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>Serial</span>.<span style=color:#a6e22e>begin</span>(<span style=color:#ae81ff>115200</span>);
</span></span><span style=display:flex><span><span style=color:#75715e>//Serial2 is the hardware UART port that connects to the external circuit.
</span></span></span><span style=display:flex><span><span style=color:#75715e>//115200 is the baudrate expected for UART.
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>Serial2</span>.<span style=color:#a6e22e>begin</span>(<span style=color:#ae81ff>115200</span>, <span style=color:#a6e22e>SERIAL_8N1</span>,
</span></span><span style=display:flex><span><span style=color:#a6e22e>UART_RX_PIN</span>,
</span></span><span style=display:flex><span><span style=color:#a6e22e>UART_TX_PIN</span>);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>void</span> <span style=color:#a6e22e>loop</span>() {
</span></span><span style=display:flex><span><span style=color:#75715e>//Forward bytes incoming via PC serial
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>while</span> (<span style=color:#a6e22e>Serial</span>.<span style=color:#a6e22e>available</span>() &gt; <span style=color:#ae81ff>0</span>) {
</span></span><span style=display:flex><span><span style=color:#a6e22e>Serial2</span>.<span style=color:#a6e22e>write</span>(<span style=color:#a6e22e>Serial</span>.<span style=color:#a6e22e>read</span>());
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#75715e>//Forward bytes incoming via UART serial
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>while</span> (<span style=color:#a6e22e>Serial2</span>.<span style=color:#a6e22e>available</span>() &gt; <span style=color:#ae81ff>0</span>) {
</span></span><span style=display:flex><span><span style=color:#a6e22e>Serial</span>.<span style=color:#a6e22e>write</span>(<span style=color:#a6e22e>Serial2</span>.<span style=color:#a6e22e>read</span>());
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>}</span></span></code></pre></td></tr></table></div></div><p>Screen command for setting baudrate on your TTY port:<br><code>screen /dev/ttyUSB0 115200</code></p></div></article></div></main><footer class="bg-black bottom-0 w-100 pa3" role=contentinfo><div class="flex justify-between"><a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href=https://brokengadgets.io/>&copy; Broken Gadgets R&D 2025 
 </a><div><div class=ananke-socials></div></div></div></footer></body></html>